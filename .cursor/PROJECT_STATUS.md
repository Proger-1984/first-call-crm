# First Call CRM - –°—Ç–∞—Ç—É—Å –ø—Ä–æ–µ–∫—Ç–∞

**–î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:** 26 —è–Ω–≤–∞—Ä—è 2026

---

## üìù –ö–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è AI (–æ–±–Ω–æ–≤–ª—è–π –ø—Ä–∏ —Å–º–µ–Ω–µ –∑–∞–¥–∞—á–∏!)

### –ü–æ—Å–ª–µ–¥–Ω—è—è —Å–µ—Å—Å–∏—è
**–î–∞—Ç–∞:** 26 —è–Ω–≤–∞—Ä—è 2026  
**–ß—Ç–æ –¥–µ–ª–∞–ª–∏:** –£–ª—É—á—à–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ Cursor ‚Äî –¥–æ–±–∞–≤–ª–µ–Ω—ã –¥–µ—Ç–∞–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –º–∏–≥—Ä–∞—Ü–∏–π –≤ backend prompt

### –¢–µ–∫—É—â–∏–π —Ñ–æ–∫—É—Å
- –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é TransferListingsCommand
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤ —Ç–∞–±–ª–∏—Ü—É –æ–±—ä—è–≤–ª–µ–Ω–∏–π

### –í–∞–∂–Ω–æ –ø–æ–º–Ω–∏—Ç—å
- –î–∞–Ω–Ω—ã–µ –ø—Ä–∏—Ö–æ–¥—è—Ç –∏–∑ MySQL (89.248.193.168) —á–µ—Ä–µ–∑ TransferListingsCommand
- Frontend –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –º–æ–∫–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ ‚Äî –Ω—É–∂–Ω–æ –ø–æ–¥–∫–ª—é—á–∏—Ç—å –∫ API
- –ö–∞—Ç–µ–≥–æ—Ä–∏—è –∏ –ª–æ–∫–∞—Ü–∏—è –ø–æ–∫–∞ —Ö–∞—Ä–¥–∫–æ–¥—è—Ç—Å—è (category_id=1, location_id=1)

### –ë–ª–æ–∫–µ—Ä—ã
- –ù–µ—Ç (–º–æ–∂–Ω–æ –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å)

### –ü—Ä–∏–Ω—è—Ç—ã–µ —Ä–µ—à–µ–Ω–∏—è
- –ò—Å–ø–æ–ª—å–∑—É–µ–º upsert –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –æ–±—ä—è–≤–ª–µ–Ω–∏–π (–Ω–µ delete+insert)
- –ü–æ–ª–µ `rooms` –º–∞–ø–ø–∏—Ç—Å—è –∏–∑ `room_id` —É–¥–∞–ª—ë–Ω–Ω–æ–π –ë–î
- –ó–∞–≥–æ–ª–æ–≤–∫–∏ –æ—á–∏—â–∞—é—Ç—Å—è –æ—Ç –º–∞—Ä–∫–µ—Ä–æ–≤ —Ç–∏–ø–∞ "(1)", "(a)"

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –®–∞–≥ 1: –ó–∞–ø—É—Å–∫ Backend + –ë–î (Docker)

```bash
cd /home/sokol/first-call

# –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
docker-compose up -d

# –ò–ª–∏ —á–µ—Ä–µ–∑ Makefile
make up

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
docker-compose ps
```

**–ß—Ç–æ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è:**
| –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä | –°–µ—Ä–≤–∏—Å | –ü–æ—Ä—Ç |
|-----------|--------|------|
| slim_postgres | PostgreSQL 15 + PostGIS | 5432 |
| slim_php-fpm | PHP-FPM 8.3 | 9000 (internal) |
| slim_php-cli | PHP CLI (–∫–æ–º–∞–Ω–¥—ã) | ‚Äî |
| slim_nginx | Nginx (reverse proxy + SSL) | 80, 443 |
| slim_pgadmin | pgAdmin 4 | 5050 |

### –®–∞–≥ 2: –ó–∞–ø—É—Å–∫ Frontend (React)

```bash
cd /home/sokol/first-call/frontend-react

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–µ—Å–ª–∏ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã)
npm install

# –ó–∞–ø—É—Å–∫ dev-—Å–µ—Ä–≤–µ—Ä–∞
npm run dev
# –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: http://localhost:3000

# –ò–ª–∏ —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –ø–æ—Ä—Ç–∞
npm run dev -- --port 3002 --host
```

### –®–∞–≥ 3: –°–±–æ—Ä–∫–∞ –¥–ª—è production

```bash
cd /home/sokol/first-call/frontend-react

# –°–±–æ—Ä–∫–∞
npm run build

# –†–µ–∑—É–ª—å—Ç–∞—Ç –≤ –ø–∞–ø–∫–µ dist/, —Ä–∞–∑–¥–∞—ë—Ç—Å—è —á–µ—Ä–µ–∑ Nginx
```

---

## üåê URLs

| –°–µ—Ä–≤–∏—Å | URL | –û–ø–∏—Å–∞–Ω–∏–µ |
|--------|-----|----------|
| **–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (prod)** | https://local.firstcall.com | –ß–µ—Ä–µ–∑ Nginx + SSL |
| **Frontend dev** | http://localhost:3000 | Vite dev server |
| **API** | https://local.firstcall.com/api/v1 | REST API |
| **pgAdmin** | http://localhost:5050 | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ë–î |
| **API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** | http://localhost:8090/redoc.html | OpenAPI/Redoc |

---

## üóÑÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

### –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ pgAdmin (http://localhost:5050)

**–õ–æ–≥–∏–Ω –≤ pgAdmin:**
- Email: `admin@example.com`
- Password: `admin`

**–î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–∞ PostgreSQL:**
- Host: `postgres` (–∏–º—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –≤ Docker network)
- Port: `5432`
- Database: `slim_api`
- Username: `postgres`
- Password: `postgres`

### –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞–ø—Ä—è–º—É—é (–∏–∑ —Ö–æ—Å—Ç–∞)

```bash
# –ß–µ—Ä–µ–∑ psql
psql -h localhost -p 5432 -U postgres -d slim_api

# –ò–ª–∏ —á–µ—Ä–µ–∑ Docker
docker exec -it slim_postgres psql -U postgres -d slim_api
```

### –ú–∏–≥—Ä–∞—Ü–∏–∏

```bash
# –ó–∞–ø—É—Å–∫ –º–∏–≥—Ä–∞—Ü–∏–π
make migrate

# –ò–ª–∏ –≤—Ä—É—á–Ω—É—é
docker exec -it slim_php-cli php db/migrations/run.php
```

### ‚ö†Ô∏è –í–∞–∂–Ω–æ –æ –¥–∞–Ω–Ω—ã—Ö

```bash
# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ë–ï–ó —É–¥–∞–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
docker-compose down

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –° –£–î–ê–õ–ï–ù–ò–ï–ú –¥–∞–Ω–Ω—ã—Ö (volumes)
docker-compose down -v  # –û–°–¢–û–†–û–ñ–ù–û! –£–¥–∞–ª–∏—Ç –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –ë–î!
```

### üîÑ –ü–æ–ª–Ω–∞—è –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∞ —Å –Ω—É–ª—è

```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å—ë –∏ —É–¥–∞–ª–∏—Ç—å –¥–∞–Ω–Ω—ã–µ
docker-compose down -v

# –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –æ–±—Ä–∞–∑—ã
docker-compose build --no-cache

# –ó–∞–ø—É—Å—Ç–∏—Ç—å
docker-compose up -d

# –ü–æ–¥–æ–∂–¥–∞—Ç—å –∑–∞–ø—É—Å–∫–∞ PostgreSQL
sleep 5

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ –º–∏–≥—Ä–∞—Ü–∏–∏
make install && make migrate

# –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥
cd frontend-react && npm install && npm run build
```

**–û–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π:**
```bash
docker-compose down -v && docker-compose build --no-cache && docker-compose up -d && sleep 5 && make install && make migrate
```

–ü–æ–¥—Ä–æ–±–Ω–µ–µ: [docs/DEPLOYMENT.md](../docs/DEPLOYMENT.md#–ø–æ–ª–Ω–∞—è-–ø–µ—Ä–µ—Å–±–æ—Ä–∫–∞-—Å-–Ω—É–ª—è-reset)

---

## üõ†Ô∏è –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### Docker

```bash
# –°—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
docker-compose ps

# –õ–æ–≥–∏ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
docker-compose logs -f

# –õ–æ–≥–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
docker-compose logs -f nginx
docker-compose logs -f php-fpm

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
docker-compose restart

# –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–æ–≤
docker-compose build --no-cache
docker-compose up -d

# –í–æ–π—Ç–∏ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä PHP
docker exec -it slim_php-cli bash
```

### Frontend

```bash
cd frontend-react

# Dev —Å–µ—Ä–≤–µ—Ä
npm run dev

# –°–±–æ—Ä–∫–∞
npm run build

# –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä —Å–±–æ—Ä–∫–∏
npm run preview

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤ TypeScript
npx tsc --noEmit

# –õ–∏–Ω—Ç–∏–Ω–≥
npm run lint
```

### Makefile –∫–æ–º–∞–Ω–¥—ã

```bash
make up        # –ó–∞–ø—É—Å–∫ Docker
make down      # –û—Å—Ç–∞–Ω–æ–≤–∫–∞ Docker
make build     # –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–æ–≤
make logs      # –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
make migrate   # –ó–∞–ø—É—Å–∫ –º–∏–≥—Ä–∞—Ü–∏–π
make install   # –£—Å—Ç–∞–Ω–æ–≤–∫–∞ composer –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
make init      # –ü–æ–ª–Ω–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
```

---

## ‚úÖ –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ

### –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- [x] Telegram Login Widget –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- [x] JWT —Ç–æ–∫–µ–Ω—ã (access + refresh)
- [x] –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤
- [x] Logout —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª
- [x] Protected routes

### Header (—à–∞–ø–∫–∞)
- [x] –õ–æ–≥–æ—Ç–∏–ø "FIRST CALL" (SVG)
- [x] –ö–Ω–æ–ø–∫–∞ "–ü–æ–¥–¥–µ—Ä–∂–∫–∞" ‚Üí –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç https://t.me/firstcall_support
- [x] –ö–Ω–æ–ø–∫–∞ "–ë–∏–ª–ª–∏–Ω–≥"
- [x] –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–¥–ø–∏—Å–∫–µ (–¥–∞—Ç–∞, –æ—Å—Ç–∞—Ç–æ–∫ –¥–Ω–µ–π)
- [x] –°—Ç–∞—Ç—É—Å –∞–≤—Ç–æ–∑–≤–æ–Ω–∫–∞ (–ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ API)
- [x] –ê–≤–∞—Ç–∞—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –∏–Ω–∏—Ü–∏–∞–ª–∞–º–∏
- [x] Dropdown –º–µ–Ω—é (–ü—Ä–æ—Ñ–∏–ª—å, –ù–∞—Å—Ç—Ä–æ–π–∫–∏, –í—ã—Ö–æ–¥)

### Dashboard (–≥–ª–∞–≤–Ω–∞—è)
- [x] –ö–æ–º–ø–∞–∫—Ç–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (–±–∞–Ω–Ω–µ—Ä—ã –±–µ–∑ —Å–∫—Ä—ã–≤–∞–µ–º–æ–≥–æ –±–ª–æ–∫–∞)
- [x] –§–∏–ª—å—Ç—Ä—ã –≤ —Å–∫—Ä—ã–≤–∞–µ–º–æ–π –∫–∞—Ä—Ç–æ—á–∫–µ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —Å–≤—ë—Ä–Ω—É—Ç—ã)
- [x] MultiSelect –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–æ–≤
- [x] DatePicker (flatpickr) —Å–æ —Å—Ç–∏–ª–∏–∑–∞—Ü–∏–µ–π –ø–æ–¥ –¥–∏–∑–∞–π–Ω
- [x] –¢–∞–±–ª–∏—Ü–∞ –æ–±—ä—è–≤–ª–µ–Ω–∏–π (–∫–æ–º–ø–∞–∫—Ç–Ω—ã–π —Ä–µ–∂–∏–º, ~10 –æ–±—ä—è–≤–ª–µ–Ω–∏–π –Ω–∞ —ç–∫—Ä–∞–Ω–µ)
- [x] 25 –º–æ–∫–æ–≤—ã—Ö –∑–∞–ø–∏—Å–µ–π —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –º–æ—Å–∫–æ–≤—Å–∫–∏–º–∏ –∞–¥—Ä–µ—Å–∞–º–∏
- [x] –ö–æ–ª–æ–Ω–∫–∞ "–ú–µ—Ç—Ä–æ" —Å —Ü–≤–µ—Ç–∞–º–∏ –ª–∏–Ω–∏–π –º–æ—Å–∫–æ–≤—Å–∫–æ–≥–æ –º–µ—Ç—Ä–æ
- [x] –¢–µ–ª–µ—Ñ–æ–Ω –∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã–π (tel:) –∏ –∂–∏—Ä–Ω—ã–π
- [x] –ü–ª–æ—â–∞–¥—å –∂–∏—Ä–Ω—ã–º —à—Ä–∏—Ñ—Ç–æ–º
- [x] –ê–¥—Ä–µ—Å —Å –ø–µ—Ä–µ–Ω–æ—Å–æ–º –Ω–∞ 2 —Å—Ç—Ä–æ–∫–∏ (—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —à–∏—Ä–∏–Ω–∞)
- [x] –ò–∫–æ–Ω–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ (–ø–æ—è–≤–ª—è—é—Ç—Å—è –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏)
- [x] –ü–∞–≥–∏–Ω–∞—Ü–∏—è + –∫–Ω–æ–ø–∫–∏ "–°—Ç–æ–ª–±—Ü—ã" –∏ "–≠–∫—Å–ø–æ—Ä—Ç" –≤–Ω–∏–∑—É
- [x] –£–±—Ä–∞–Ω –∑–∞–≥–æ–ª–æ–≤–æ–∫ "–û–±—ä—è–≤–ª–µ–Ω–∏—è" –¥–ª—è —ç–∫–æ–Ω–æ–º–∏–∏ –º–µ—Å—Ç–∞

### –°—Ç–∏–ª–∏–∑–∞—Ü–∏—è
- [x] –ü–∞–ª–∏—Ç—Ä–∞ AssetFinder (–æ–ª–∏–≤–∫–æ–≤–æ-–∑–µ–ª—ë–Ω—ã–π + –∑–æ–ª–æ—Ç–æ–π –∞–∫—Ü–µ–Ω—Ç)
- [x] –®—Ä–∏—Ñ—Ç Plus Jakarta Sans
- [x] Material Icons
- [x] –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è –≤—ë—Ä—Å—Ç–∫–∞

### –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- [x] React 18 + TypeScript + Vite
- [x] Zustand (state management)
- [x] Axios —Å interceptors
- [x] Nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è https://local.firstcall.com
- [x] Docker –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- [x] –ú–∏–≥—Ä–∞—Ü–∏–∏ –ë–î (–±–µ–∑–æ–ø–∞—Å–Ω—ã–µ, –Ω–µ –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞—é—Ç –¥–∞–Ω–Ω—ã–µ)

---

## üîÑ –í –ø—Ä–æ—Ü–µ—Å—Å–µ / –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### ‚ö†Ô∏è –¢–ï–ö–£–©–ê–Ø –ó–ê–î–ê–ß–ê: –°–∫—Ä–∏–ø—Ç –ø–µ—Ä–µ–Ω–æ—Å–∞ –æ–±—ä—è–≤–ª–µ–Ω–∏–π

**–§–∞–π–ª:** `src/Commands/TransferListingsCommand.php`

**–°—Ç–∞—Ç—É—Å:** –ì–æ—Ç–æ–≤ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –ü–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ —É–¥–∞–ª—ë–Ω–Ω–æ–π MySQL –ë–î (89.248.193.168)
- –ü–µ—Ä–µ–Ω–æ—Å–∏—Ç –æ–±—ä—è–≤–ª–µ–Ω–∏—è –∏–∑ —Ç–∞–±–ª–∏—Ü—ã `items` –≤ –ª–æ–∫–∞–ª—å–Ω—É—é PostgreSQL `listings`
- –†–∞–±–æ—Ç–∞–µ—Ç –≤ –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ–º —Ü–∏–∫–ª–µ —Å –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–º 2 —Å–µ–∫—É–Ω–¥—ã
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç upsert (insert/update –ø–æ external_id)

**–ó–∞–ø—É—Å–∫:**
```bash
docker exec -it slim_php-cli php bin/app.php transfer:listings
```

**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (–≤ —Ñ–∞–π–ª–µ):**
- REMOTE_DB_HOST: 89.248.193.168
- REMOTE_DB_PORT: 3306
- REMOTE_DB_NAME: avito
- REMOTE_DB_USER: sokol
- REMOTE_DB_PASS: 3eRT_6RcVm/)_tyM

**–ú–∞–ø–ø–∏–Ω–≥ –ø–æ–ª–µ–π:**
- external_id ‚Üê id
- source_id ‚Üê source_id
- category_id = 1 (–∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞)
- listing_status_id = 1 (–∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞)
- location_id = 1 (–∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞, –ú–æ—Å–∫–≤–∞ –∏ –æ–±–ª–∞—Å—Ç—å)
- title ‚Üê title (–æ—á–∏—â–∞–µ—Ç—Å—è –æ—Ç "(1)", "(a)" –∏ —Ç.–ø.)
- address, price, phone, url, lat, lng ‚Üê –Ω–∞–ø—Ä—è–º—É—é
- rooms ‚Üê room_id
- is_paid ‚Üê is_paid
- created_at ‚Üê created_at

---

### –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –º–∏–≥—Ä–∞—Ü–∏–∏ (26.01.2026)

1. **20260126000001_update_listings_structure.php** ‚Äî —É–¥–∞–ª–µ–Ω—ã –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –ø–æ–ª—è:
   - city_id (+ foreign key)
   - deleted_at
   - auto_call_processed_at
   - –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–æ: building ‚Üí house

2. **20260126000002_create_rooms_table.php** ‚Äî —Å–æ–∑–¥–∞–Ω—ã —Ç–∞–±–ª–∏—Ü—ã:
   - rooms (id, name, code, sort_order)
   - category_rooms (category_id, room_id)

---

### ‚úÖ –õ–æ–≥–æ—Ç–∏–ø –æ–±–Ω–æ–≤–ª—ë–Ω (26.01.2026)

–ù–æ–≤—ã–π –ª–æ–≥–æ—Ç–∏–ø: –∑–µ–ª—ë–Ω—ã–π –∫–≤–∞–¥—Ä–∞—Ç —Å —Ç–µ–ª–µ—Ñ–æ–Ω–æ–º + –æ—Ä–∞–Ω–∂–µ–≤—ã–π –±–µ–π–¥–∂ "1" + —Ç–µ–∫—Å—Ç "First Call CRM PLATFORM"

**–§–∞–π–ª—ã:**
- `frontend-react/public/logo.svg` ‚Äî –ø–æ–ª–Ω—ã–π –ª–æ–≥–æ—Ç–∏–ø –¥–ª—è header
- `frontend-react/public/logo-icon.svg` ‚Äî –∏–∫–æ–Ω–∫–∞ –¥–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ª–æ–≥–∏–Ω–∞
- `frontend-react/public/favicon.svg` ‚Äî favicon

---

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1: –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å TransferListingsCommand
- [ ] API –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ –æ–±—ä—è–≤–ª–µ–Ω–∏–π
- [ ] –†–µ–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏–∑ API
- [ ] –†–∞–±–æ—Ç–∞—é—â–∏–µ —Ñ–∏–ª—å—Ç—Ä—ã
- [ ] –ü–∞–≥–∏–Ω–∞—Ü–∏—è —Å API

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2: –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª —Ç–∞–±–ª–∏—Ü—ã
- [ ] –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –∫–æ–ª–æ–Ω–∫–∞–º
- [ ] –ö–ª–∏–∫ –ø–æ –æ–±—ä—è–≤–ª–µ–Ω–∏—é ‚Üí –¥–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
- [ ] –ö–Ω–æ–ø–∫–∞ –∑–≤–æ–Ω–∫–∞ ‚Üí –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Ç–µ–ª–µ—Ñ–æ–Ω–∏–µ–π
- [ ] –ò–∑–±—Ä–∞–Ω–Ω–æ–µ

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3: –î—Ä—É–≥–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- [ ] –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø—Ä–æ—Ñ–∏–ª—è
- [ ] –°—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫
- [ ] –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Ç–∞—Ä–∏—Ñ–æ–≤/–±–∏–ª–ª–∏–Ω–≥–∞

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

### Backend (PHP)

```
/home/sokol/first-call/
‚îú‚îÄ‚îÄ bootstrap/          # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ app.php        # –ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏ Eloquent
‚îÇ   ‚îú‚îÄ‚îÄ container.php  # DI –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
‚îÇ   ‚îú‚îÄ‚îÄ middleware.php # –ì–ª–æ–±–∞–ª—å–Ω—ã–µ middleware
‚îÇ   ‚îî‚îÄ‚îÄ routes.php     # –ó–∞–≥—Ä—É–∑–∫–∞ –º–∞—Ä—à—Ä—É—Ç–æ–≤
‚îú‚îÄ‚îÄ config/            # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
‚îú‚îÄ‚îÄ db/migrations/     # –ú–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ docs/api/          # OpenAPI –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îú‚îÄ‚îÄ public/            # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ (index.php)
‚îú‚îÄ‚îÄ routes/            # –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–æ–≤ API
‚îú‚îÄ‚îÄ src/               # –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥
‚îÇ   ‚îú‚îÄ‚îÄ Commands/      # –ö–æ–Ω—Å–æ–ª—å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
‚îÇ   ‚îú‚îÄ‚îÄ Controllers/   # –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã
‚îÇ   ‚îú‚îÄ‚îÄ Middleware/    # PSR-15 middleware
‚îÇ   ‚îú‚îÄ‚îÄ Models/        # Eloquent –º–æ–¥–µ–ª–∏
‚îÇ   ‚îú‚îÄ‚îÄ Services/      # –°–µ—Ä–≤–∏—Å–Ω—ã–π —Å–ª–æ–π
‚îÇ   ‚îî‚îÄ‚îÄ Utils/         # –£—Ç–∏–ª–∏—Ç—ã
‚îî‚îÄ‚îÄ docker/            # Docker –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
```

### Frontend (React)

```
frontend-react/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Layout/          # Header, Sidebar, Layout
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ UI/              # StatsCard, Badge, MultiSelect, DatePicker
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Auth/            # TelegramLoginButton, ProtectedRoute
‚îÇ   ‚îú‚îÄ‚îÄ pages/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Dashboard/       # –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ (—Ç–∞–±–ª–∏—Ü–∞ –æ–±—ä—è–≤–ª–µ–Ω–∏–π)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Login/           # –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ stores/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ authStore.ts     # Zustand store –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ api.ts           # Axios –∫–ª–∏–µ–Ω—Ç –∏ API –º–µ—Ç–æ–¥—ã
‚îÇ   ‚îú‚îÄ‚îÄ types/               # TypeScript —Ç–∏–ø—ã
‚îÇ   ‚îî‚îÄ‚îÄ styles/
‚îÇ       ‚îî‚îÄ‚îÄ index.css        # –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏ + CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
‚îú‚îÄ‚îÄ index.html
‚îú‚îÄ‚îÄ package.json
‚îú‚îÄ‚îÄ tsconfig.json
‚îî‚îÄ‚îÄ vite.config.ts
```

---

## üîß –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

### Backend
- **PHP** 8.3+
- **Framework:** Slim 4 + PHP-DI
- **ORM:** Eloquent (Laravel)
- **–ë–î:** PostgreSQL 15 + PostGIS
- **Auth:** JWT (firebase/php-jwt)
- **HTTP:** PSR-7/PSR-15

### Frontend
- **React** 18 + TypeScript
- **Build:** Vite 5
- **State:** Zustand
- **HTTP:** Axios
- **–°—Ç–∏–ª–∏:** CSS (–±–µ–∑ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤)
- **–®—Ä–∏—Ñ—Ç:** Plus Jakarta Sans
- **–ò–∫–æ–Ω–∫–∏:** Material Icons

### –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- **Docker** + Docker Compose
- **Nginx** (reverse proxy + SSL)
- **WSL2** (Windows Subsystem for Linux)

---

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–í—Å—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –ø–∞–ø–∫–µ `docs/`. –°–º. [docs/README.md](../docs/README.md)

| –î–æ–∫—É–º–µ–Ω—Ç | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|----------|
| [docs/DEPLOYMENT.md](../docs/DEPLOYMENT.md) | –ó–∞–ø—É—Å–∫ –Ω–∞ –ª–æ–∫–∞–ª–∫–µ –∏ production |
| [docs/ARCHITECTURE.md](../docs/ARCHITECTURE.md) | –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è |
| [docs/DATABASE.md](../docs/DATABASE.md) | –°—Ö–µ–º–∞ –ë–î (22 —Ç–∞–±–ª–∏—Ü—ã) |
| [docs/API-QUICK-REFERENCE.md](../docs/API-QUICK-REFERENCE.md) | –°–ø—Ä–∞–≤–∫–∞ –ø–æ API |
| [docs/FRONTEND_REACT.md](../docs/FRONTEND_REACT.md) | React —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ |
| [docs/TELEGRAM_SETUP.md](../docs/TELEGRAM_SETUP.md) | –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Telegram |
| [docs/scripts/README.md](../docs/scripts/README.md) | –ö–æ–Ω—Å–æ–ª—å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã |
| `.cursor/rules/firstcall-backend.mdc` | –ü—Ä–∞–≤–∏–ª–∞ –∫–æ–¥–∞ PHP |

---

## üìú –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π (changelog)

### 26 —è–Ω–≤–∞—Ä—è 2026
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –¥–µ—Ç–∞–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –º–∏–≥—Ä–∞—Ü–∏–π –≤ `firstcall-backend.mdc` (+370 —Å—Ç—Ä–æ–∫)
- ‚úÖ –°–æ–∑–¥–∞–Ω `000-project-context.mdc` ‚Äî –ø—Ä–∞–≤–∏–ª–æ –¥–ª—è –∞–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ —Å–µ–∫—Ü–∏—è "–ö–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è AI" –≤ PROJECT_STATUS.md
- ‚úÖ –û–±–Ω–æ–≤–ª—ë–Ω –ª–æ–≥–æ—Ç–∏–ø (–∑–µ–ª—ë–Ω—ã–π –∫–≤–∞–¥—Ä–∞—Ç + –æ—Ä–∞–Ω–∂–µ–≤—ã–π –±–µ–π–¥–∂)
- ‚úÖ –°–æ–∑–¥–∞–Ω—ã –º–∏–≥—Ä–∞—Ü–∏–∏: update_listings_structure, create_rooms_table

### 25 —è–Ω–≤–∞—Ä—è 2026
- ‚úÖ –°–æ–∑–¥–∞–Ω TransferListingsCommand –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –æ–±—ä—è–≤–ª–µ–Ω–∏–π
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –º–∏–≥—Ä–∞—Ü–∏–∏: add_app_connected_to_users, add_point_to_listings

### –†–∞–Ω–µ–µ
- ‚úÖ –ü–æ–ª–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ React —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ (Dashboard, Header, Auth)
- ‚úÖ JWT –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —Å Telegram Login Widget
- ‚úÖ Docker –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (PHP-FPM, Nginx, PostgreSQL, pgAdmin)
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–∞–≤–∏–ª Cursor (backend, frontend)

---

## üéØ Roadmap

### Q1 2026
- [ ] –ó–∞–ø—É—Å–∫ MVP —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Ç–µ–ª–µ—Ñ–æ–Ω–∏–µ–π (–∞–≤—Ç–æ–∑–≤–æ–Ω–æ–∫)
- [ ] –ë–∞–∑–æ–≤–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞

### Q2 2026
- [ ] –ú–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- [ ] –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –Ω–∞ –¥—Ä—É–≥–∏–µ –≥–æ—Ä–æ–¥–∞
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å CRM —Å–∏—Å—Ç–µ–º–∞–º–∏